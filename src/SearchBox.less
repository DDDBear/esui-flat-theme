// TODO: 改了变量名，这里之后要做下向前兼容处理
@Searchbox-search-icon-normal-img: url(./img/esui-search-normal.png);
@Searchbox-search-icon-active-img: url(./img/esui-search-active.png);
@Searchbox-search-icon-img-width: 15px;
@Searchbox-search-icon-img-height: 15px;
@Searchbox-search-icon-width: 25px;
@Searchbox-search-icon-height: 25px;
@Searchbox-search-icon-folder: '';


@Searchbox-2x-search-icon-background-image: url(./img/search@2x.png);
@Searchbox-2x-search-icon-background-size: 15px 50px;

@Searchbox-border: 1px solid #ddd;
@Searchbox-hover-border: 1px solid #65cabd;
@Searchbox-focus-border: 1px solid #65cabd;
@SearchBox-height: 23px;


.normal-search-icon() {
    .pseudo-icon(
        @Searchbox-search-icon-normal-img,
        @Searchbox-search-icon-img-width, @Searchbox-search-icon-img-height,
        center, 0, center, 0, absolute);
}
.active-search-icon() {
    .pseudo-icon(
        @Searchbox-search-icon-active-img,
        @Searchbox-search-icon-img-width, @Searchbox-search-icon-img-height,
        center, 0, center, 0, absolute);
}

.ui-searchbox {
    .ui-textbox {
        input {
            padding-right: @Searchbox-search-icon-width;
            border: @Searchbox-border;

            &:hover {
                border: @Searchbox-hover-border;
            }

            &:focus {
                border-color: @Searchbox-focus-border; 
            }
        }
    }

    .ui-button {
        width: @Searchbox-search-icon-width;
        height: @Searchbox-search-icon-height;
        top: 0;
        background: none;
        .normal-search-icon();

        &:active {
            background: none;
            .active-search-icon();
        }

        &:hover {
            background: none;
            .active-search-icon();
        }
    }

    .ui-button-disabled {
        &:active {
            .active-search-icon();
        }
    }
}

.ui-searchbox-focus {
    .ui-button {
        .active-search-icon();
    }
}

.searchbox-2x() {
    background-image: @Searchbox-2x-search-icon-background-image;
    background-size: @Searchbox-2x-search-icon-background-size;
}

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) { 
    .ui-searchbox .ui-button {
        .searchbox-2x();

        &:active {
            .searchbox-2x();
        }
    }

    .ui-searchbox-focus {
        .ui-button {
            .searchbox-2x();
        }
    }
}